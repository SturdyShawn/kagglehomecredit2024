# Kaggle Home Credit - Credit Risk Model Stability

Solution for the [Home Credit 2024 Kaggle competition](https://www.kaggle.com/competitions/home-credit-credit-risk-model-stability).

## Usage
- To submit on Kaggle: use the notebook. #TODO link
- To train models: example usage is in notebooks/main.ipynb. To be able to run the code on Google Colab, you'll need to
    1. Add data files into data/parquet_files folder.
    2. Set paths in [homecredit/config.py](https://github.com/evgeniavolkova/kagglehomecredit/blob/master/homecredit/config.py).
    3. Create a [WandB](https://wandb.ai/home) account and paste API key on request.
    4. The code safely runs with 50GB RAM.

## Project Structure

- data/: Contains all data files (omitted in the repo because of the size).
    - csv_files/: CSV files [provided by the host](https://www.kaggle.com/competitions/home-credit-credit-risk-model-stability/data).
    - parquet/: parquet files [provided by the host](https://www.kaggle.com/competitions/home-credit-credit-risk-model-stability/data).
    - processed/: Processed data files generated via data processors from [data/](https://github.com/evgeniavolkova/kagglehomecredit2024/tree/master/data).
- features/: Contains all feature-related files.
    - feature_definitions.csv: Definitions and descriptions of each feature, provided by the host.
    - features_X.csv: CSV files containing information about how to transform and aggregate features. Manually created. X is a version of the data processor.
    - dfs_props_X.pkl: Information files about data files and features, each one is generated by [scripts/write_props.py](https://github.com/evgeniavolkova/kagglehomecredit2024/blob/master/scripts/write_props.py).
    - featuresX.txt: Text files containing features to include in each processor. Generated manually after feature selection.
- models/: Trained models (omitted due to the size. Trained models can be found in my [Kaggle dataset](https://www.kaggle.com/datasets/eivolkova/homecredit-models)).
    - full/: Models trained on the whole dataset and used for making predictions on the test dataset.
- notebooks/: Notebooks with example usage.
    - main.ipynb
- scripts/: Utility scripts.
    - update_kaggle.py: script to update kaggle datasets with features, models and code.
    - write_props.py: script to write information files about data files and features.
- homecredit/: Contains the source code for data preprocessing, feature engineering, and model training.
    - data/: Source code for data processing.
    - models/: Source code for tree and linear models, as well as ensemble models selection.
    - \_\_init__.py
    - analysis.py: Models analysis, feature selection.
    - config.py: Project configuration.
    - kaggle.py: Function to update kaggle datasets.
    - metrics.py: Gini stability metric.
    - pipeline.py: Custom wrappers for sklearn pipeline.
    - setup_env.py: Code to set up environment.
    - tracker.py: Evaluation and logging experiments.
    - utils.py: Utility functions.